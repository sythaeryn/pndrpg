FILE(GLOB SRC *.cpp *.h)

ADD_EXECUTABLE(nel_launcher_ext2 WIN32 ${SRC} nel_launcher.rc)
IF(CURL_FOUND)
  ADD_DEFINITIONS(-DUSE_CURL)
ENDIF(CURL_FOUND)
ADD_DEFINITIONS(-DNL_LAUNCHER_CFG="\\"${NL_ETC_PREFIX}/\\"")

INCLUDE_DIRECTORIES(${NELMISC_INCLUDE_DIRS})

TARGET_LINK_LIBRARIES(nel_launcher_ext2 ${PLATFORM_LINKFLAGS} ${NELNET_LIBRARY} ${NELMISC_LIBRARY} ${ZLIB_LIBRARY} ${CURL_LIBRARY})
NL_DEFAULT_PROPS(nel_launcher_ext2 "Launcher: NeL Launcher Ext2")
NL_ADD_RUNTIME_FLAGS(nel_launcher_ext2)

INSTALL(TARGETS nel_launcher_ext2 RUNTIME DESTINATION bin COMPONENT launcher)
INSTALL(FILES nel_launcher.cfg DESTINATION etc/nel COMPONENT launcher)
